// Generated by ReScript, PLEASE EDIT WITH CARE

import PgPromise from "pg-promise";
import * as PgListener from "pg-listener";

let pgp = PgPromise();

let db = pgp(process.env.DB_URL);

let listener = new PgListener.PgListener({
  pgp: pgp,
  db: db
});

function withListener(premise_id, onMessage) {
  listener.listen([premise_id], {
    onMessage: onMessage
  });
}

export {
  pgp,
  db,
  listener,
  withListener,
}
/* pgp Not a pure module */
